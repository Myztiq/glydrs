<html>
<head>
</head>
<body>
  <canvas id="myCanvas" width="900" height="500"></canvas>
  <script>

    window.setTimeout('randomizeLevels()',50);
    function randomizeLevels(){
      var canvas = document.getElementById('myCanvas');
      var levels = [];
      for(var i=0;i<300;i++){
        levels.push(Math.random());
      }
      drawLevels(canvas,levels);
      window.setTimeout('randomizeLevels()',50);
    }

    function drawLevels(canvas,levels){
      canvas.width = canvas.width;
      var width = canvas.width;
      var height = canvas.height;
      var ctx = canvas.getContext('2d');
      for(var i=0;i<levels.length;i++){
        ctx.fillStyle = '#'+Math.floor(Math.random()*16777215).toString(16);
        console.log(ctx.fillStyle);
        ctx.fillRect( width/levels.length*i, 0, width/levels.length, levels[i]*height);
      }
    }
  </script>
</body>
</html>